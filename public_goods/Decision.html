{% extends "global/Page.html" %}
{% load otree static %}

{% block title %}Public Goods Game{% endblock %}

{% block content %}

<head>
    <link rel="stylesheet" href="{% static 'global/style.css' %}"> 
</head>


    <h2>
        {% if treatment == 'choice_blindness' %}
            Please indicate how much you would like to contribute. 
        {% else %}
            How much will you contribute to the public good?
        {% endif %}
    </h2>

    <form method="post">
        {{ form.contribution }}
        <button type="submit">Submit</button>
    </form>

    {% if treatment == 'choice_overload' or treatment == 'both' %}
        <script>
            let timeLeft = {{ C.TIMEOUT_SECONDS }};
            const timerElement = document.createElement('p');
            timerElement.textContent = `Time remaining: ${timeLeft} seconds`; // Initial text

            const countdown = setInterval(function() {
                // ...
                timerElement.textContent = `Time remaining: ${timeLeft} seconds`; // Update text directly
                // ...
            }, 1000);
        </script>
    {% endif %}
{% endblock %}